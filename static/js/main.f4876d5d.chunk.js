(this["webpackJsonpmonzo-crunch-statment"]=this["webpackJsonpmonzo-crunch-statment"]||[]).push([[0],{169:function(e,t,n){e.exports=n(347)},347:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(6),c=n.n(o),i=n(78),l=n(61),u=n(352),s=n(52),d=n(350),p=n(348),m=n(79),f=n.n(m),y=n(353),b=n(351),h=n(9),O=function(e){var t=e.onChange,n={name:"file",action:null,beforeUpload:function(e){var n=new FileReader;return n.onloadend=function(e,t){return function(n){var r=n.target.result,a=f.a.parse(r,{header:!0,skipEmptyLines:!0}),o=a.data,c=a.errors;c.length?(y.a.error("There are errors with this CSV, see console."),console.log(c),console.log(o)):(y.a.success("".concat(e.name," file uploaded successfully")),t(o))}}(e,t),n.readAsText(e),!1},fileList:[]};return a.a.createElement(b.a,n,a.a.createElement(s.a,null,a.a.createElement(h.a,{type:"upload"})," Upload Monzo CSV"))},g=n(349);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var j=[{title:"ID",dataIndex:"id"},{title:"Created",dataIndex:"created",render:function(e){return Object(d.a)(new Date(e),"d/MM/yyyy")}},{title:"Description",dataIndex:"description"},{title:"Notes",dataIndex:"notes"},{title:"Amount",dataIndex:"amount"},{title:"Balance",dataIndex:"balance"}],w=function(e){var t=e.data,n=e.onSelectionChange,r=t.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:e.id},e)}));return a.a.createElement(g.a,{rowSelection:{onChange:function(e){return n(e)}},columns:j,dataSource:r})},E=n(60),C=E.a.Option,P=["January","February","March","April","May","June","July","August","September","October","November","December"],D=function(e){var t=e.onChange;return a.a.createElement(E.a,{style:{width:120},onChange:t,placeholder:"Month..."},P.map((function(e,t){return a.a.createElement(C,{value:t},e)})))};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var x=function(e,t){for(var n=0,r=0;r<t+1;r++)n+=Number(e[r].amount);return n},k=function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},I=function(e){return e.map((function(e){return{Date:Object(d.a)(new Date(e.created),"d/MM/yyyy"),Reference:e.description,"Paid In Paid Out":e.amount,Balance:e.balance}}))};var M=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)([]),m=Object(l.a)(c,2),y=m[0],b=m[1],h=Object(r.useState)(0),g=Object(l.a)(h,2),v=g[0],j=g[1],E=Object(r.useState)([]),C=Object(l.a)(E,2),P=C[0],M=C[1],B=P.filter((function(e){return null===n||n===Object(p.a)(new Date(e.created))})).map((function(e,t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{balance:x(n,t)+v})}));return a.a.createElement("div",{style:{padding:30}},a.a.createElement("div",{style:{display:"flex",marginBottom:30}},a.a.createElement("div",{style:{marginRight:10}},a.a.createElement(O,{onChange:M})),a.a.createElement("div",{style:{marginRight:10}},a.a.createElement(u.a,{prefix:"\xa3",suffix:"GBP",placeholder:"Balance in Crunch",type:"number",onChange:function(e){return j(Number(e.target.value))}})),a.a.createElement("div",{style:{marginRight:10}},a.a.createElement(D,{onChange:o})),a.a.createElement("div",{style:{marginRight:10,marginLeft:"auto"}},a.a.createElement(s.a,{onClick:function(){var e=Object(d.a)(new Date,"d/MM/yyyy"),t=I(B);k("crunch-statement-".concat(e,".csv"),f.a.unparse(t))}},"Export for Crunch")),a.a.createElement(s.a,{type:"danger",onClick:function(){M(P.filter((function(e){return!y.includes(e.id)}))),b([])}},"Delete Selected")),a.a.createElement(w,{data:B,onSelectionChange:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(346);c.a.render(a.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[169,1,2]]]);
//# sourceMappingURL=main.f4876d5d.chunk.js.map